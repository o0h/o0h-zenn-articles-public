---
title: "├ W-①: STEP-1 <解説>パッケージ定義ファイルの読み込み"
---

## STEP-1: 実装例とコードの解説

作業前のファイルの全景

```php
<?php

/* === STEP-1 ココから === */
// $lockData = ・・・

/* === STEP-1 ココまで === */

```



### 1. `/opt/work/composer.lock`にある`.lock`ファイルを読み込んでください。

内容が安全であることが担保できていて、ローカルにあるファイルを読み込むには  `file_get_contents()`関数で充分でしょう。

その際、正常に読み込めたかの判定とエラーハンドリングも必要になります。今回は簡易実装を行うハンズオンなので、端折ります。

```php
$json = file_get_contents('/opt/work/comopser.lock');
```



### 2. 読み込んだファイルの内容を連想配列にして、変数 `$lockData `に代入してください。

これも前項と同様に、「かなり安全だと信じ込んでの実装」ということで簡易的に済ませます。 `json_decode()`で充分でしょう。要件として「連想配列で」と指定されているので、第二引数に`true`指定が必要です

```php
$lockData = json_decode($json, true);
```



STEP-1はコレで完了です。是非、`comopser.lock`はどんな情報を保持しているのか？を知るために、`var_dump()`を掛けて覗いてみてください。
