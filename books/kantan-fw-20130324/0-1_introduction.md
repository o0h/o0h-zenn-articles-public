---
title: "はじめに"
free: true
---

## 執筆のきっかけ

この本は、2023年3月に行われたPHPerKaigi 2023で筆者が発表した「名著「パーフェクトPHP」のPart3に出てきたフレームワークを令和5年に書き直したらどんな感じですかね？」の制作過程において得た知見をベースを元に執筆されたものです。[^proposal][^talk]



[^proposal]:  採択されたプロポーザルはこちらになります https://fortee.jp/phperkaigi-2023/proposal/db787adc-c855-4114-99b6-8c6958d47b42
[^talk]: カンファレンスでの発表資料はこちらになります @todo: speakerdeckの埋め込みを貼る



筆者としては、PHPプログラミングを始めてまだ数年しか経たない時期に手にとった書籍「パーフェクトPHP」から、非常に多くの刺激をもらいました。それは、明確に「中級者」に向けて進むための一歩でもあったし、それまでの「何となく用意されたものを使って動くものを作る」から一歩踏み込んだ領域へと自分を誘ってくれる出会いだったと感じています。

知らなかった関数や機能、「ちょっと上手くやるコツ」のものがふんだんに詰まっていたのは勿論のこと、中でも最も衝撃だったのが「フレームワークを自作してみる」といった体験です。
読んだ当時は、まだまだ写経するだけで手一杯だったようにも記憶していますが、それでも「自分で作った土台に乗っかって、本当にアプリケーションを動かせた！！」というのは凄い達成感をもたらしました。

後年になって振り返ってみると、この時の「オートローディングの動かし方を味わってみた」「リクエストされたURLから然るべき処理を起動する、"制御の逆転"を発明してみた」という体験は、自身がFWやライブラリのソースコードを読む際の礎にもなっているとも感じます。それらは、「魔法のような仕組み」でも「概念をつかめば、すんなりと種も仕掛けも解き明かせる」と自信をもたらしました。
ちょっと強引で、とても刺激的な、強制的に開眼させる方法だな・・と、パーフェクトPHPの執筆陣に対しては舌を巻くばかりです。

筆者は現在、所属企業でマネジメント職として技術面での教育やコーチングにも携わっていますが、「どうすれば技術力を向上させられるか？」と質問をしてくる若手に対して「まずコードを書きまくること」「そして読みまくること」と返答する事が多くあります。
色々な人が書いたコードに触れることで、開発者の思考を追体験したり、良いテクニックやイディオム(あるいは「良くない」コード、「不吉なにおい」でも)を体感覚として覚える機会が格段に増えます。その機会を自ら広げていくためには、「色々なコードを臆せず読める」という自信や経験が不可欠です。

本書は、正にそうした経験を獲得できる機会を提供すべく、執筆しました。
とくに「よく使われているフルスタックFW」は、知見の塊です。また、例えばLaravelやSymfonyを普段から利用している人にとっては、「その中身を読める」ことは、FW利用者としての熟達をももたらすことでしょう。

「FWの奥に潜る」ために、まずは一緒に「FWを自分で生み出してみる」ところから始めて行きませんか？

## 対象読者

本書の対象読者としては「PHPでFWを用いたWebアプリケーションを自力で行える程度の経験者」を想定しています。

本書は、いわゆる「FWを使ってPHPアプリケーションを作ってみよう」という内容ではありません。
むしろ、どちらかといえば「アプリケーションを作ること」そのものはオマケと位置づけています。(ただし、「作ってみたFWを使う」ことで「FWが何をもたらすか」を体感できるので、しっかりと触れていきます。)

そのため、対象読者としては、何らかのFW(1つでも構いません)を利用した円滑なWebアプリケーション開発が可能なレベルにあることを目安としてます。例えば「FW公式のチュートリアルの内容を、独力で、扱われているコードや設定の意味をしっかりと理解しながら完走できる」ような状態にあることを望みます。

一方で、「最近のFW」については精通していなくても問題がないと考えます(その場合、本書を読んだあとに是非とも何かしらの既製FWに触れてみてほしいです。きっと、楽しいと思いますので！)。
冒頭で紹介したカンファレンス発表では、「10年前に示されたFWの例を踏まえながら、現代的なPHPのFWを考察してみる」というチャレンジを実施しました。そういった経緯から、「ちょっとレガシーなFWなら触れたことがある」という人に向けても、「今だと世の中のFWはどんな感じになっているのか」という目線でのフォローは可能です。

## 本書の構成と使い方

本書は、全部で7つのセクションに分かれています。

それぞれの部は以下の構成になります。

1. はじめに: 本書の全体にかかわる説明と、開発環境の構築
2. FWの開発①: コア部分の実装
3. FWの開発②: 「MVC」のベースに該当する部分の実装
4. FWの開発③: HTTPメッセージに関する部分の実装
5. FWを用いたアプリケーションの実装
6. FWを更に拡張する
7. おわりに

セクション2〜4まででFWの実装を完了させます。ここで、「今風のFWがどんな特性を備えているのか、それがどんな風に実現されているのか」を掴んでいきましょう。
続くセクション5で、いよいよ簡単なアプリケーションの実装へと進みます。せこせこと仕込んできたFWの便利さを体感するのは、ちょっとしたアハ体験をもたらすかもしれません。
セクション6では、更にFWを使いこなしたり拡張していくための視点を提供します。

時間的な余裕が作れそうでしたら、セクション2〜5については順番通りに読んでみる・写経してみることをオススメします。本書で扱うのはいわゆる「オレオレFW」ですので、部分的な実装だけを知ってみても、あまりポータブルな知識へと繋がりにくいと考えるためです。
ただし、PSRのインターフェイスに基づく実装をしている部分については、要件に応じて「cherry-pick」できるものになっています。例えば「ルーティングの実装(1-6)」については本書で扱うFW固有の知識になりますが、「PSR-11に基づくDIコンテナの概要や実装例を知る(1-7)」については、世の中の他のFWやライブラリにも持ち込める知識となることでしょう。
本書の末尾に索引を設けていますので、気になるキーワードを見つけたら、ページを開いてみてください。

また、本書では、PHPコミュニティを始めとした多くのコミュニティにおける発表内容やブログ等の執筆記事について、「参考文献」として積極的に紹介することとします。
筆者自身が、コミュニティにいる多くの開発者から貴重な刺激を受け、その知識や共有された体験が、自らの血肉となっていると強く感じるためです。踏み込んで高度な内容もあれば、ゼロからイチへの転換をもたらすような道案内となる内容も多くあります。複数の人からの説明を受けることで理解が深まることもあるでしょうし、「自分にとってピンときた」という説明に出会うチャンスも上がると思います。また、これは個人的な想いとして、自らが「面白いな！！」と感じたアウトプットを、少しでも多くの人に知ってもらえたら嬉しく感じます。
そうした動機から、様々な人の様々な発表・記事を盛り込んでいます。箸休めとして、あるいは「そっちが本編！」として、是非たくさんの紹介物にも触れてみてください。
